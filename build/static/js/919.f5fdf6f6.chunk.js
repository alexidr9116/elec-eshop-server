"use strict";(self.webpackChunkelectronic_e_shop_v1=self.webpackChunkelectronic_e_shop_v1||[]).push([[919],{1741:function(e,s,n){var l=n(1413),t=n(4925),r=n(2791),i=n(184),a=["children","title","onCancel","onSuccess"],c=(0,r.forwardRef)((function(e,s){var n=e.children,r=e.title,c=void 0===r?"":r,o=e.onCancel,d=(e.onSuccess,(0,t.Z)(e,a));return(0,i.jsxs)("div",(0,l.Z)((0,l.Z)({className:"modal modal-open bg-base-300/0 ",ref:s},d),{},{children:[(0,i.jsx)("div",{className:" fixed inset-0 bg-base-300/80",onClick:o}),(0,i.jsx)("div",{className:"z-50 bg-base-100 rounded-xl py-5 px-3 max-h-screen  overflow-y-auto",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4 h-full",children:[(0,i.jsxs)("p",{className:"text-center font-bold text-xl mb-4",children:[c," "]}),n]})})]}))}));s.Z=c},5212:function(e,s,n){var l=n(1413),t=n(4925),r=n(2791),i=n(6907),a=n(184),c=["children","title","meta"],o=(0,r.forwardRef)((function(e,s){var n=e.children,r=e.title,o=void 0===r?"":r,d=(e.meta,(0,t.Z)(e,c));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.ql,{children:(0,a.jsx)("title",{children:"".concat(o," | electronic online shop")})}),(0,a.jsx)("div",(0,l.Z)((0,l.Z)({ref:s},d),{},{children:n})),(0,a.jsx)("div",{className:"h-16 w-full md:hidden "})]})}));s.Z=o},919:function(e,s,n){n.r(s),n.d(s,{default:function(){return j}});var l=n(4165),t=n(5861),r=n(9439),i=n(1105),a=n(2791),c=n(6140),o=n(3504),d=n(5212),u=n(3456),f=n(937),p=n(1413),x=n(9434),h=n(1134),m=n(1741),b=n(184);function v(e){var s=e.onCancel,n=e.address,o=e.onSuccess,d=(0,x.v9)((function(e){return e.shopping})).pairModels,u=(0,a.useState)([]),v=(0,r.Z)(u,2),j=v[0],N=v[1],w=(0,a.useMemo)((function(){return{type:(null===n||void 0===n?void 0:n.type)||"home",fullName:(null===n||void 0===n?void 0:n.fullName)||"",phoneNumber:(null===n||void 0===n?void 0:n.phoneNumber)||"",address:(null===n||void 0===n?void 0:n.address)||"",town:(null===n||void 0===n?void 0:n.town)||"",state:(null===n||void 0===n?void 0:n.state)||"",zip:(null===n||void 0===n?void 0:n.zip)||"",country:(null===n||void 0===n?void 0:n.country)||"all",isDefault:(null===n||void 0===n?void 0:n.isDefault)||!1}}),[n]),Z=(0,h.cI)(w),g=Z.handleSubmit,y=Z.register,S=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(s){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,f.oh)(f.$5.user.putBillingAddress,s).then((function(e){200===e.status?(o(),c.ZP.success(null===e||void 0===e?void 0:e.message)):c.ZP.error(null===e||void 0===e?void 0:e.message)})).catch((function(e){console.log(e),c.ZP.error("Server Error")}));case 1:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){N(null===d||void 0===d?void 0:d.filter((function(e){return"support-country"===e.type})))}),[d]),(0,b.jsx)(m.Z,{title:"Billing Address",onCancel:s,children:(0,b.jsx)("form",{onSubmit:g(S),children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("label",{className:"label cursor-pointer",children:[(0,b.jsx)("input",(0,p.Z)({type:"radio",className:"radio",defaultChecked:!0,value:"home"},y("type"))),(0,b.jsx)("span",{className:"label-text ml-2",children:(0,i.t)("words.home")})]}),(0,b.jsxs)("label",{className:"label cursor-pointer",children:[(0,b.jsx)("input",(0,p.Z)({type:"radio",className:"radio",value:"office"},y("type"))),(0,b.jsx)("span",{className:"label-text ml-2",children:(0,i.t)("words.office")})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-between w-72 sm:w-96",children:[(0,b.jsx)("input",(0,p.Z)({required:!0,className:"input input-bordered w-1/2",placeholder:"Full Name"},y("fullName"))),(0,b.jsx)("input",(0,p.Z)({required:!0,className:"input input-bordered w-1/2",placeholder:"Phone Number"},y("phoneNumber")))]}),(0,b.jsx)("input",(0,p.Z)({className:"input input-bordered",placeholder:"Address",required:!0},y("address"))),(0,b.jsxs)("div",{className:"flex gap-2 justify-between w-72 sm:w-96",children:[(0,b.jsx)("input",(0,p.Z)({className:"input input-bordered w-1/3",required:!0,placeholder:"Town/City"},y("town"))),(0,b.jsx)("input",(0,p.Z)({className:"input input-bordered  w-1/3",placeholder:"State"},y("state"))),(0,b.jsx)("input",(0,p.Z)({className:"input input-bordered  w-1/3",placeholder:"Zip/Postal Code"},y("zip")))]}),(0,b.jsxs)("select",(0,p.Z)((0,p.Z)({className:"select select-bordered"},y("country")),{},{children:[(0,b.jsx)("option",{value:"all",disabled:!0,children:(0,i.t)("select.country")}),j.map((function(e,s){return(0,b.jsx)("option",{value:e.id,children:e.value},s)}))]})),(0,b.jsxs)("label",{className:"label justify-start gap-2 mb-4",children:[(0,b.jsx)("input",(0,p.Z)({type:"checkbox",className:"checkbox checkbox-accent"},y("isDefault"))),(0,b.jsx)("span",{className:"label-text",children:(0,i.t)("checkbox.default-address")})]}),(0,b.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,b.jsx)("button",{type:"submit",className:"btn btn-accent btn-sm px-6",children:(0,i.t)("words.save")}),(0,b.jsx)("button",{type:"button",className:"btn btn-ghost  btn-sm px-6",onClick:s,children:(0,i.t)("words.cancel")})]})]})})})}function j(){var e=(0,a.useState)(!1),s=(0,r.Z)(e,2),n=s[0],p=s[1],x=(0,a.useState)([]),h=(0,r.Z)(x,2),m=h[0],j=h[1],N=(0,a.useState)(!0),w=(0,r.Z)(N,2),Z=w[0],g=w[1],y=function(){p(!1),g(!0)},S=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(s){var n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.yP)(f.$5.user.deleteBillingAddress,s);case 2:200===!(n=e.sent).status&&c.ZP.error((null===n||void 0===n?void 0:n.message)||"Server Error"),g(!0);case 5:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){var e=function(){var e=(0,t.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,f.Hf)(f.$5.user.getBillingAddress).then((function(e){g(!1),200===e.status?j(e.data):c.ZP.error(e.message)})).catch((function(e){g(!1),console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Z&&e()}),[Z]),(0,b.jsxs)(d.Z,{title:"billing & address",className:"mt-24 flex w-full flex-col mb-10",children:[(0,b.jsx)("div",{className:"breadcrumbs  bg-base-300 absolute w-full left-0 px-6 ",children:(0,b.jsxs)("ul",{children:[(0,b.jsx)("li",{children:(0,b.jsx)(o.rU,{to:"/",children:(0,i.t)("words.home")})}),(0,b.jsx)("li",{children:(0,b.jsx)(o.rU,{to:"/user/profile",children:(0,i.t)("menu.profile")})}),(0,b.jsx)("li",{children:(0,b.jsx)("label",{children:(0,i.t)("menu.billing-address")})})]})}),(0,b.jsx)("div",{className:"w-full flex justify-center mt-12",children:(0,b.jsx)(u.Z,{BILLING_ADDRESS:m,onSuccess:y,onDelete:S})}),(0,b.jsx)("div",{className:"flex justify-center w-full",children:(0,b.jsxs)("button",{className:"btn btn-ghost btn-sm btn-wide",onClick:function(){return p(!0)},children:["+ ",(0,i.t)("shopping.add-billing-address")]})}),n&&(0,b.jsx)(v,{onSuccess:y,onCancel:function(){return p(!1)}})]})}},3456:function(e,s,n){n.d(s,{Z:function(){return r}});var l=n(1105),t=n(184);function r(e){var s=e.onSelected,n=e.onDelete,r=e.BILLING_ADDRESS,i=void 0===r?[]:r;return(0,t.jsx)("div",{className:"flex flex-col max-w-xl w-full p-4 gap-4 ",children:i.map((function(e,r){return(0,t.jsxs)("div",{className:"flex flex-col gap-4 border-b border-base-300 pb-4",children:[(0,t.jsxs)("label",{className:"text-lg text-bold",children:[e.fullName,(0,t.jsxs)("span",{className:"text-sm text-accent",children:["(",e.type,")"]}),e.isDefault&&(0,t.jsx)("span",{className:"badge badge-sm badge-accent text-white ml-4",children:"Default"})]}),(0,t.jsxs)("label",{children:[e.address,"\xa0",e.town,"\xa0",e.zip]}),(0,t.jsxs)("div",{className:"flex justify-between w-full flex-col sm:flex-row",children:[(0,t.jsx)("label",{className:"mb-4",children:e.phoneNumber}),(0,t.jsxs)("div",{className:"flex gap-2",children:[!e.isDefault&&(0,t.jsx)("button",{className:"btn btn-sm btn-outline btn-ghost",onClick:function(){return n(e.id)},children:(0,l.t)("words.delete")}),s&&(0,t.jsx)("button",{onClick:function(){return s(e)},className:"btn btn-sm btn-outline btn-accent",children:(0,l.t)("shopping.delivery-address")})]})]})]},r)}))})}}}]);
//# sourceMappingURL=919.f5fdf6f6.chunk.js.map