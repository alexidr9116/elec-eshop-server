{"version":3,"file":"static/js/885.e32b8111.chunk.js","mappings":"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","sources":["components/Page.js","components/skeleton/BasketSkeleton.js","hook/useCurrencyRate.js","pages/client/ShoppingFavorites.js","store/action/basketAction.js","utils/productParser.js"],"sourcesContent":["import { forwardRef } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nconst Page = forwardRef(({ children, title = '', meta, ...other }, ref) => {\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{`${title} | electronic online shop`}</title>\r\n            </Helmet>\r\n            <div ref={ref} {...other}  >\r\n                {children}\r\n            </div>\r\n            <div className=\"h-16 w-full md:hidden \"></div>\r\n        </>\r\n    )\r\n\r\n});\r\nPage.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    title: PropTypes.string,\r\n    meta: PropTypes.node,\r\n};\r\nexport default Page;","export default function BasketTableSkeleton() {\r\n    return (\r\n        <div className=\"animate-pulse grid w-full\">\r\n            <div className=\"grid gap-2\">\r\n                {\r\n                    [1, 2, 3].map((value, index) => (\r\n                        <div className=\"flex gap-2 w-full items-center\" key={index}>\r\n                            <div className=\"flex gap-2 w-40\" >\r\n                                <div className=\"w-16 h-16 bg-base-300\">\r\n                                </div>\r\n                                <div className=\"flex flex-col w-24 justify-center\">\r\n                                    <label className=\"w-24 h-6 bg-base-300 mb-2\"></label>\r\n                                    <label className=\"w-18 h-6 bg-base-300\"></label>\r\n                                </div>\r\n                            </div>\r\n                            <label className=\"bg-base-300 w-1/4 h-6\">\r\n                            </label>\r\n                            <div className=\"flex flex-col w-24 justify-center\">\r\n                                <label className=\"w-24 h-6 bg-base-300 mb-2\"></label>\r\n                                <label className=\"w-18 h-6 bg-base-300\"></label>\r\n                            </div>\r\n                            <label className=\"bg-base-300 w-1/4 h-6\">\r\n                            </label>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { useEffect, useMemo, useRef } from \"react\"; \r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nexport default function useCurrencyRate() {\r\n    const { language } = useSelector((state) => state.setting);\r\n    const { currencyRates } = useSelector((state) => state.shopping);\r\n    const currencyRate = useMemo(() => ({\r\n        currency: language?.currency || '$',\r\n        paypalCurrency:((language?.key === \"en\"?\"USD\":(language?.key ===\"ch\"?\"CNY\":\"MNT\"))),\r\n        time: (language?.key === \"en\" ? 1 : (language?.key === 'ch' ? currencyRates?.rmb : currencyRates?.mnt)),\r\n    }), [language, currencyRates]);\r\n\r\n    return currencyRate;\r\n}","\r\nimport { Icon } from \"@iconify/react\";\r\nimport { t } from \"i18next\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nimport { useSelector } from \"react-redux\"\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\n\r\nimport Rating from \"../../components/Ratings\";\r\nimport BasketTableSkeleton from \"../../components/skeleton/BasketSkeleton\";\r\nimport TextMaxLine from \"../../components/TextMaxLine\";\r\n\r\nimport { getProductImageUrl, getProductRating } from \"../../utils/productParser\";\r\nimport { strPrice, strNumber } from \"../../utils/uFormatter\";\r\nimport Page from \"../../components/Page\";\r\nimport useCurrencyRate from \"../../hook/useCurrencyRate\";\r\n\r\nimport { removeFromFavoriteFromStore, clearFavoritesFromStore } from \"../../store/action/basketAction\";\r\nimport { API_CLIENT, SEND_POST_REQUEST } from \"../../utils/API\";\r\n\r\nexport default function ShoppingFavorites() {\r\n    const { currency, time } = useCurrencyRate();\r\n\r\n    const { favorites } = useSelector((state) => state.basket);\r\n    const [baskets, setBaskets] = useState([]);\r\n    const navigate = useNavigate();\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleRemoveAll = async () => {\r\n        setBaskets([]);\r\n        await clearFavoritesFromStore();\r\n\r\n    }\r\n\r\n    const handelRemoveOne = async (product) => {\r\n        setBaskets(baskets.filter((p) => p.id !== product.id));\r\n        await removeFromFavoriteFromStore(product.id);\r\n\r\n    }\r\n    useEffect(() => {\r\n        const ids = [];\r\n\r\n        for (const favorite of favorites)\r\n            ids.push(favorite);\r\n        if (ids.length > 0) {\r\n            setLoading(true);\r\n            SEND_POST_REQUEST(API_CLIENT.product.getProductsByIds, { ids }).then(res => {\r\n                setLoading(false);\r\n                if (res.status === 200 && res.data) {\r\n                    setBaskets(res.data);\r\n                }\r\n            }).catch(err => {\r\n                setLoading(false);\r\n            })\r\n        }\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <Page title=\"Favorites\" className=\"flex flex-col w-full gap-2 sm:gap-4 \">\r\n            <div className=\"breadcrumbs  bg-base-300 absolute w-full left-0 px-6 overflow-x-hidden mt-24\">\r\n                <ul>\r\n                    <li>\r\n                        <Link to='/'>{t('words.home')}</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to='/shopping'>{t('words.shopping')}</Link>\r\n                    </li>\r\n                    <li>\r\n                        <label >{t('shopping.favorite')}</label>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"mt-40 w-full\"></div>\r\n            <div className=\"container flex-col flex gap-2 sm:gap-4\">\r\n                <div className=\"flex flex-col w-full p-4 gap-4 items-center\">\r\n                    <label className=\"font-bold\">\r\n                        {t('shopping.favorites')}&nbsp;({favorites?.length} {t('words.items')})\r\n                    </label>\r\n                    {favorites.length === 0 &&\r\n                        <div className=\"w-full sm:w-3/4 flex flex-col gap-4 items-center\">\r\n                            <img className=\"w-full max-w-sm h-full\" alt='empty' src='/assets/empty_cart.svg'>\r\n\r\n                            </img>\r\n                            <label className=\"text-lg\">No Product yet</label>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        loading && <BasketTableSkeleton></BasketTableSkeleton>\r\n                    }\r\n                    {/* product list */}\r\n                    {!loading && favorites?.length > 0 &&\r\n                        <div className=\"w-full overflow-auto\">\r\n                            <table className=\"table w-full\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <td>\r\n                                            {t('shopping.product')}\r\n                                        </td>\r\n                                        <td>\r\n                                            {t('shopping.price')}\r\n                                        </td>\r\n                                        <td>\r\n                                            {t('shopping.amount')}\r\n                                        </td>\r\n\r\n                                        <td>\r\n\r\n                                        </td>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    {\r\n                                        baskets.map((product, index) => (\r\n                                            <tr key={index}>\r\n                                                <td className='cursor-pointer' onClick={() => navigate(`/product-detail/${product.id}`, { replace: true })}>\r\n\r\n                                                    <div className=\"flex gap-2 w-72 items-center\">\r\n                                                        <LazyLoadImage\r\n                                                            src={`${getProductImageUrl(product?.image)}`}\r\n                                                            wrapperClassName=\"w-24\"\r\n                                                            effect=\"blur\"\r\n                                                            alt={`${index}`}\r\n                                                        >\r\n                                                        </LazyLoadImage>\r\n                                                        <div className=\"flex flex-col w-48\">\r\n                                                            <TextMaxLine\r\n                                                                maxLine={1}\r\n                                                                text={product?.title}>\r\n\r\n                                                            </TextMaxLine>\r\n                                                            <Rating\r\n                                                                size=\"sm\"\r\n                                                                readOnly={true}\r\n                                                                value={getProductRating(product?.reviews)}>\r\n                                                            </Rating>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>\r\n                                                    {strPrice(product?.price * time, currency)}\r\n                                                </td>\r\n                                                <td>\r\n                                                    {strNumber(product.quantity)}\r\n\r\n                                                </td>\r\n                                                <td>\r\n                                                    <button className=\"btn btn-ghost p-0 btn-circle\" onClick={() => handelRemoveOne(product)}>\r\n                                                        <Icon icon=\"akar-icons:trash-can\" width={20}></Icon>\r\n                                                    </button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        ))\r\n                                    }\r\n                                </tbody>\r\n                                <tfoot>\r\n                                    <tr>\r\n                                        <td colSpan={2}>\r\n\r\n                                        </td>\r\n                                        <td className='text-lg font-bold text-accent '>\r\n                                            {\r\n                                                strNumber(favorites?.length)\r\n                                            }\r\n                                        </td>\r\n                                        <td>\r\n                                            <button className=\"btn btn-ghost p-0 btn-circle\" onClick={handleRemoveAll}>\r\n                                                <Icon icon=\"akar-icons:trash-can\" width={20}></Icon>\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tfoot>\r\n                            </table>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </Page>\r\n    )\r\n}","\r\nimport {clearBasket, clearFavorites, pushToBasket,pushToFavorite,removeFromBasket,removeFromFavorite } from \"../slice/basket\";\r\nimport { dispatch } from \"../store\";\r\n\r\nexport const clearFavoritesFromStore = async()=>{\r\n    dispatch(clearFavorites());\r\n}\r\nexport const clearBasketFromStore = async()=>{\r\n    dispatch(clearBasket());\r\n}\r\nexport const pushToBasketToStore = async(data)=>{\r\n    dispatch(pushToBasket(data));\r\n    return true;\r\n}\r\nexport const pushToFavoriteToStore = async(data)=>{\r\n    dispatch(pushToFavorite(data));\r\n    return true;\r\n}\r\nexport const removeFromBasketFromStore = async(data)=>{\r\n    dispatch(removeFromBasket(data));\r\n    return true;\r\n}\r\nexport const removeFromFavoriteFromStore = async(data)=>{\r\n    dispatch(removeFromFavorite(data));\r\n    return true;\r\n}\r\n\r\n ","import { ASSETS_URL } from \"./API\";\r\n\r\nexport function getProductImageUrl(images){\r\n    try{\r\n      \r\n        const image = JSON.parse(images)[0].name.replace('products/','');\r\n        return `${ASSETS_URL.ezo}${image}`;\r\n    }\r\n    catch(err){\r\n        console.log(err)\r\n        return `${ASSETS_URL.image}product.jpg`;\r\n    }\r\n}\r\n\r\nexport function getProductRating(reviews){\r\n    return (reviews?.reduce((p,c)=>(p+c.rating),0)/reviews?.length);\r\n}"],"names":["Page","forwardRef","ref","children","title","other","meta","className","BasketTableSkeleton","map","value","index","useCurrencyRate","language","useSelector","state","setting","currencyRates","shopping","useMemo","currency","paypalCurrency","key","time","rmb","mnt","ShoppingFavorites","favorites","basket","useState","baskets","setBaskets","navigate","useNavigate","loading","setLoading","handleRemoveAll","clearFavoritesFromStore","handelRemoveOne","product","filter","p","id","removeFromFavoriteFromStore","useEffect","ids","favorite","push","length","SEND_POST_REQUEST","API_CLIENT","then","res","status","data","catch","err","to","t","alt","src","onClick","replace","LazyLoadImage","getProductImageUrl","image","wrapperClassName","effect","maxLine","text","size","readOnly","getProductRating","reviews","strPrice","price","strNumber","quantity","icon","width","colSpan","dispatch","clearFavorites","clearBasketFromStore","clearBasket","pushToBasketToStore","pushToBasket","pushToFavoriteToStore","pushToFavorite","removeFromBasketFromStore","removeFromBasket","removeFromFavorite","images","JSON","parse","name","ASSETS_URL","console","log","reduce","c","rating"],"sourceRoot":""}