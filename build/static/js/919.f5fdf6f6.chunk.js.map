{"version":3,"file":"static/js/919.f5fdf6f6.chunk.js","mappings":"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","sources":["components/Modal.js","components/Page.js","pages/dialogs/BillingAddressDlg.js","pages/client/BillingAddressManage.js","sections/basket/BillingAddress.js"],"sourcesContent":["import { forwardRef } from \"react\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst Modal = forwardRef(({ children, title = '', onCancel, onSuccess, ...other }, ref) => {\r\n    return (\r\n        <div className={`modal modal-open bg-base-300/0 `} ref={ref} {...other}>\r\n            <div className=\" fixed inset-0 bg-base-300/80\" onClick={onCancel} />\r\n            <div className='z-50 bg-base-100 rounded-xl py-5 px-3 max-h-screen  overflow-y-auto'>\r\n                <div className=\"flex flex-col gap-4 h-full\">\r\n                <p className=\"text-center font-bold text-xl mb-4\">{title} </p>\r\n                    {children}\r\n                  \r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n});\r\n\r\nModal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    title: PropTypes.string,\r\n    onCancel: PropTypes.func,\r\n    onSuccess: PropTypes.func\r\n};\r\nexport default Modal;","import { forwardRef } from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Helmet } from \"react-helmet-async\";\r\n\r\nconst Page = forwardRef(({ children, title = '', meta, ...other }, ref) => {\r\n    return (\r\n        <>\r\n            <Helmet>\r\n                <title>{`${title} | electronic online shop`}</title>\r\n            </Helmet>\r\n            <div ref={ref} {...other}  >\r\n                {children}\r\n            </div>\r\n            <div className=\"h-16 w-full md:hidden \"></div>\r\n        </>\r\n    )\r\n\r\n});\r\nPage.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    title: PropTypes.string,\r\n    meta: PropTypes.node,\r\n};\r\nexport default Page;","import { t } from \"i18next\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useForm } from 'react-hook-form';\r\nimport toast from \"react-hot-toast\";\r\nimport Modal from \"../../components/Modal\";\r\nimport { API_CLIENT, SEND_PUT_REQUEST } from \"../../utils/API\";\r\n\r\n\r\nexport default function BillingAddressDlg({ onCancel,address,onSuccess }) {\r\n    \r\n    const {pairModels} = useSelector((state)=>state.shopping);\r\n    const [supportCountries, setSupportCountries] = useState([]);\r\n\r\n    const defaultValues = useMemo(()=>({\r\n        type:address?.type||\"home\",\r\n        fullName:address?.fullName||\"\",\r\n        phoneNumber:address?.phoneNumber||\"\",\r\n        address:address?.address||\"\",\r\n        town:address?.town||\"\",\r\n        state:address?.state||\"\",\r\n        zip:address?.zip||\"\",\r\n        country:address?.country||\"all\",\r\n        isDefault:address?.isDefault||false,\r\n    }),[address]); \r\n    const {handleSubmit, register} = useForm(defaultValues);\r\n    const onSubmit = async (data)=>{\r\n      \r\n        SEND_PUT_REQUEST(API_CLIENT.user.putBillingAddress,data).then(res=>{\r\n            if(res.status === 200){\r\n                onSuccess();\r\n                toast.success(res?.message);\r\n            }\r\n            else{\r\n                toast.error(res?.message)\r\n            }\r\n            \r\n        }).catch(err=>{\r\n            console.log(err)\r\n            toast.error('Server Error');\r\n        })\r\n    }\r\n    useEffect(() => {\r\n        setSupportCountries(pairModels?.filter(pair=>pair.type === 'support-country'));\r\n    }, [pairModels]);\r\n    return (\r\n        <Modal title={'Billing Address'} onCancel={onCancel}  >\r\n            <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"flex flex-col gap-4\">\r\n                <div className=\"flex gap-2\">\r\n                    <label className=\"label cursor-pointer\">\r\n                        <input type=\"radio\" className=\"radio\" defaultChecked  value = 'home' {...register('type')} ></input>\r\n                        <span className=\"label-text ml-2\">{t('words.home')}</span>\r\n                    </label>\r\n                    <label className=\"label cursor-pointer\">\r\n                        <input type=\"radio\" className=\"radio\" value = 'office' {...register('type')} ></input>\r\n                        <span className=\"label-text ml-2\" >{t('words.office')}</span>\r\n                    </label>\r\n                </div>\r\n                <div className=\"flex gap-2 justify-between w-72 sm:w-96\">\r\n                    <input required className=\"input input-bordered w-1/2\" placeholder=\"Full Name\"  {...register('fullName')}></input>\r\n                    <input required className=\"input input-bordered w-1/2\" placeholder=\"Phone Number\"  {...register('phoneNumber')}></input>\r\n                </div>\r\n                <input className=\"input input-bordered\" placeholder=\"Address\" required {...register('address')}></input>\r\n                <div className=\"flex gap-2 justify-between w-72 sm:w-96\">\r\n                    <input className=\"input input-bordered w-1/3\" required placeholder=\"Town/City\"  {...register('town')}></input>\r\n                    <input className=\"input input-bordered  w-1/3\"  placeholder=\"State\"  {...register('state')}></input>\r\n                    <input className=\"input input-bordered  w-1/3\" placeholder=\"Zip/Postal Code\"  {...register('zip')}></input>\r\n                </div>\r\n                <select className=\"select select-bordered\"  {...register('country')}>\r\n                    <option value='all' disabled>{t('select.country')}</option>\r\n                    {supportCountries.map((country, index) => (\r\n                        <option key={index} value={country.id}>{country.value}</option>\r\n                    ))}\r\n                </select>\r\n                <label className=\"label justify-start gap-2 mb-4\">\r\n                    <input type='checkbox' className = 'checkbox checkbox-accent'  {...register('isDefault')}></input>\r\n                    <span className=\"label-text\">{t('checkbox.default-address')}</span>\r\n                </label>\r\n                <div className=\"flex justify-center gap-2\">\r\n                    <button type = 'submit' className=\"btn btn-accent btn-sm px-6\">{t('words.save')}</button>\r\n                    <button type = 'button' className=\"btn btn-ghost  btn-sm px-6\" onClick={onCancel}>{t('words.cancel')}</button>\r\n                </div>\r\n            </div>\r\n            </form>\r\n        </Modal>\r\n    )\r\n}","import { t } from \"i18next\";\r\nimport { useEffect, useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Page from \"../../components/Page\";\r\nimport BillingAddress from \"../../sections/basket/BillingAddress\";\r\nimport { API_CLIENT, SEND_DELETE_REQUEST, SEND_GET_REQUEST } from \"../../utils/API\";\r\nimport BillingAddressDlg from \"../dialogs/BillingAddressDlg\";\r\n\r\nexport default function BillingAddressManage() {\r\n    const [visibleBillingDialog, setVisibleBillingDialog] = useState(false);\r\n    const [billingAddress, setBillingAddress] = useState([]);\r\n    const [updated, setUpdated] = useState(true);\r\n    const onUpdateAddress = () => {\r\n        setVisibleBillingDialog(false)\r\n        setUpdated(true);\r\n    }\r\n    const onDeleteAddress = async(id)=>{\r\n        const result = await SEND_DELETE_REQUEST(API_CLIENT.user.deleteBillingAddress,id);\r\n        if(!result.status === 200){\r\n            toast.error(result?.message || \"Server Error\")\r\n        }\r\n        setUpdated(true)\r\n    }\r\n    useEffect(() => {\r\n        const load = async () => {\r\n            SEND_GET_REQUEST(API_CLIENT.user.getBillingAddress).then(res => {\r\n                setUpdated(false)\r\n                if (res.status === 200) {\r\n                    setBillingAddress(res.data);\r\n                }\r\n                else {\r\n                    toast.error(res.message);\r\n                }\r\n            }).catch(err => {\r\n                setUpdated(false)\r\n                console.log(err)\r\n            })\r\n        }\r\n        if (updated)\r\n            load();\r\n    }, [updated]);\r\n\r\n    return (\r\n        <Page title=\"billing & address\" className=\"mt-24 flex w-full flex-col mb-10\">\r\n            {/* breadcrumbs */}\r\n            <div className=\"breadcrumbs  bg-base-300 absolute w-full left-0 px-6 \">\r\n                <ul>\r\n                    <li>\r\n                        <Link to=\"/\" >{t('words.home')}</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to=\"/user/profile\" >{t('menu.profile')}</Link>\r\n                    </li>\r\n                    <li>\r\n                        <label>{t('menu.billing-address')}</label>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div className=\"w-full flex justify-center mt-12\">\r\n                <BillingAddress BILLING_ADDRESS = {billingAddress} onSuccess = {onUpdateAddress} onDelete={onDeleteAddress} >\r\n                </BillingAddress>\r\n            </div>\r\n            <div className=\"flex justify-center w-full\">\r\n                <button className=\"btn btn-ghost btn-sm btn-wide\" onClick={() => setVisibleBillingDialog(true)}>\r\n                    + {t('shopping.add-billing-address')}\r\n                </button>\r\n            </div>\r\n            {visibleBillingDialog &&\r\n                <BillingAddressDlg onSuccess={onUpdateAddress} onCancel={() => setVisibleBillingDialog(false)}></BillingAddressDlg>\r\n            }\r\n        </Page>\r\n    )\r\n}","import { t } from \"i18next\"\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nBillingAddress.propTypes = {\r\n    onSelected: PropTypes.func,\r\n    onDelete:PropTypes.func,\r\n    BILLING_ADDRESS:PropTypes.array\r\n}\r\nexport default function BillingAddress({ onSelected,onDelete, BILLING_ADDRESS = [] }) {\r\n    \r\n    return (\r\n        <div className=\"flex flex-col max-w-xl w-full p-4 gap-4 \">\r\n            {BILLING_ADDRESS.map((address, index) => (\r\n                <div key={index} className=\"flex flex-col gap-4 border-b border-base-300 pb-4\">\r\n                    <label className=\"text-lg text-bold\">{address.fullName}\r\n                        <span className=\"text-sm text-accent\">({address.type})</span>\r\n                        {address.isDefault &&\r\n                            <span className=\"badge badge-sm badge-accent text-white ml-4\">Default</span>\r\n                        }\r\n                    </label>\r\n                    <label >{address.address}&nbsp;{address.town}&nbsp;{address.zip}\r\n\r\n                    </label>\r\n                    <div className=\"flex justify-between w-full flex-col sm:flex-row\">\r\n                        <label className=\"mb-4\">{address.phoneNumber}</label>\r\n                        <div className=\"flex gap-2\">\r\n                            {!address.isDefault &&\r\n                                <button className=\"btn btn-sm btn-outline btn-ghost\" onClick={()=>onDelete(address.id)}>{t('words.delete')}</button>\r\n                            }\r\n                            {onSelected && <button onClick={() => (onSelected(address))} className=\"btn btn-sm btn-outline btn-accent\">{t('shopping.delivery-address')}</button>}\r\n\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))\r\n            }\r\n\r\n            \r\n        </div>\r\n    )\r\n}"],"names":["Modal","forwardRef","ref","children","title","onCancel","other","onSuccess","className","onClick","Page","meta","BillingAddressDlg","address","pairModels","useSelector","state","shopping","useState","supportCountries","setSupportCountries","defaultValues","useMemo","type","fullName","phoneNumber","town","zip","country","isDefault","useForm","handleSubmit","register","onSubmit","data","SEND_PUT_REQUEST","API_CLIENT","then","res","status","toast","message","catch","err","console","log","useEffect","filter","pair","defaultChecked","value","t","required","placeholder","disabled","map","index","id","BillingAddressManage","visibleBillingDialog","setVisibleBillingDialog","billingAddress","setBillingAddress","updated","setUpdated","onUpdateAddress","onDeleteAddress","SEND_DELETE_REQUEST","result","load","SEND_GET_REQUEST","to","BillingAddress","BILLING_ADDRESS","onDelete","onSelected"],"sourceRoot":""}